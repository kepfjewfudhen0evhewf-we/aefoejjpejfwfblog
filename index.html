---
layout: default
---
<div class="home">
  <header class="hero">
    <div class="hero-content">
      <h1 class="pixel-text">{{ site.title | escape }}</h1>
      <p class="subtitle">{{ site.description | escape }}</p>
    </div>
    <div class="hero-decoration">
      <div class="pixel" v-for="n in 64" :key="n"></div>
    </div>
  </header>

  <nav class="pixel-nav">
    <a href="/" class="nav-link">‚åÇ HOME</a>
    <a href="/about" class="nav-link">‚ç∞ ABOUT</a>
    <a href="/archive" class="nav-link">üóÄ ARCHIVE</a>
  </nav>

  <div class="sort-options pixel-buttons">
    <span class="sort-label">SORT MODE:</span>
    <button onclick="sortPosts('date-desc')" class="pixel-button">NEWEST</button>
    <button onclick="sortPosts('date-asc')" class="pixel-button">OLDEST</button>
    <button onclick="sortPosts('title')" class="pixel-button">A-Z</button>
  </div>

  <div class="post-grid" id="postGrid">
    {% for post in site.posts %}
      <a href="{{ post.url | relative_url }}" class="post-card">
        <div class="post-card-inner">
          <div class="post-card-front">
            <h2 class="post-title">{{ post.title | escape }}</h2>
            <span class="post-date">{{ post.date | date: "%b %d, %Y" }}</span>
            <div class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 15 }}</div>
          </div>
          <div class="post-card-back">
            <span class="read-more">READ ‚Üí</span>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
<script>
// Pixel animation
new Vue({
  el: '.hero-decoration',
  data: {
    activePixels: []
  },
  created() {
    setInterval(() => {
      const randomPixel = Math.floor(Math.random() * 64) + 1;
      this.activePixels.push(randomPixel);
      setTimeout(() => {
        this.activePixels = this.activePixels.filter(p => p !== randomPixel);
      }, 1000);
    }, 100);
  }
});

// Sorting function with animation
function sortPosts(method) {
  const grid = document.getElementById('postGrid');
  const posts = Array.from(grid.children);
  
  // Add shuffle animation
  grid.classList.add('shuffling');
  setTimeout(() => grid.classList.remove('shuffling'), 500);
  
  posts.sort((a, b) => {
    const aDate = new Date(a.querySelector('.post-date').textContent);
    const bDate = new Date(b.querySelector('.post-date').textContent);
    const aTitle = a.querySelector('.post-title').textContent.toLowerCase();
    const bTitle = b.querySelector('.post-title').textContent.toLowerCase();
    
    if (method === 'date-desc') return bDate - aDate;
    if (method === 'date-asc') return aDate - bDate;
    if (method === 'title') return aTitle.localeCompare(bTitle);
    return 0;
  });
  
  // Animate reordering
  posts.forEach((post, index) => {
    setTimeout(() => {
      grid.appendChild(post);
      post.classList.add('appear');
      setTimeout(() => post.classList.remove('appear'), 300);
    }, index * 50);
  });
}

// Hover effects for cards
document.querySelectorAll('.post-card').forEach(card => {
  card.addEventListener('mouseenter', () => {
    card.classList.add('hover');
  });
  card.addEventListener('mouseleave', () => {
    card.classList.remove('hover');
  });
});
</script>
